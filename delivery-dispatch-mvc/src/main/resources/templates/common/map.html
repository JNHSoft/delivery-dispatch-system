<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<th:block th:fragment="daumMap">
		<div id="map"></div>
		
		<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=115b7b387bc25ada55206e93884ad731"></script>
		<script>
			var daumMap = function() {
				$('#map').width('100%');
				$('#map').height('100%');
				var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
			    mapOption = {
			        center: new daum.maps.LatLng(37.5725668, 126.9804712), // 초기 지도 중심좌표(버거킹 종로구청점)
			        level: 2, // 지도의 확대 레벨
			        mapTypeId : daum.maps.MapTypeId.ROADMAP // 지도종류
			    }; 
				
				// 지도를 생성한다 
				var map = new daum.maps.Map(mapContainer, mapOption); 
				
				// 지도에 확대 축소 컨트롤을 생성한다
				var zoomControl = new daum.maps.ZoomControl();
				
				// 지도의 우측에 확대 축소 컨트롤을 추가한다
				map.addControl(zoomControl, daum.maps.ControlPosition.RIGHT);
				
				// 매장 지도 표시
				viewStore = function(x, y, title) {
					// 마커 이미지의 주소
					var markerImageUrl = '/resources/images/common/map_pin_02.png', 
					    markerImageSize = new daum.maps.Size(46, 55), // 마커 이미지의 크기
					    markerImageOptions = { 
					        offset : new daum.maps.Point(23, 55)// 마커 좌표에 일치시킬 이미지 안의 좌표
					    };
					
					// 마커 이미지를 생성한다
					var markerImage = new daum.maps.MarkerImage(markerImageUrl, markerImageSize, markerImageOptions);
					
					// 지도에 마커를 생성하고 표시한다
					var marker = new daum.maps.Marker({
					    position: new daum.maps.LatLng(y, x), // 마커의 좌표
					    image : markerImage, // 마커의 이미지
					    map: map, // 마커를 표시할 지도 객체
					    title: title
					});
					
					// 매장좌표로 지도 이동
					map.setCenter(new daum.maps.LatLng(y, x));
				}
				
				return {
					viewStore : viewStore
				}
			}
			var mapFunc = daumMap();
			
		</script>
	</th:block>
</html>