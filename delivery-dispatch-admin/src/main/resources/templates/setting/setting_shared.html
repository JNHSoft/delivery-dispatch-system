<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="/layout">
    <!-- 컨텐츠 영역 -->
    <section id="container" layout:fragment="content">
        <h2 id="pageTit" class="blind" th:text="${#messages.msg('gnb.setting')}" />
        <div class="tabmenu">
            <ul>
                <li><a href="/setting-account.html" th:text="${#messages.msg('gnb.setting.account')}" /></li>
                <li><a href="/setting-assign.html" th:text="${#messages.msg('gnb.setting.assign')}" /></li>
                <li class="on"><a href="/setting-shared.html" th:text="${#messages.msg('gnb.setting.assign')}"/></li>
                <li><a href="/setting-alarm.html" th:text="${#messages.msg('gnb.setting.alarm')}" /></li>
                <li><a href="/setting-notice.html" th:text="${#messages.msg('gnb.notice')}" /></li>
            </ul>
        </div>

        <div id="contents">
            <ul id="sortable">
                <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>
                    Item 1
                    <input type="text" name="txtValue" th:value="#{btn.store}" />
                </li>
                <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>
                    Item 2
                    <input type="text" name="txtValue" th:value="#{btn.store}" />
                </li>
                <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>
                    Item 3
                    <input type="text" name="txtValue" th:value="#{btn.store}" />
                </li>
                <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>
                    Item 4
                    <input type="text" name="txtValue" th:value="#{btn.store}" />
                </li>
                <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>
                    Item 5
                    <input type="text" name="txtValue" th:value="#{btn.store}" />
                </li>
                <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>
                    Item 6
                    <input type="text" name="txtValue" th:value="#{btn.store}" />
                </li>
                <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>
                    Item 7
                    <input type="text" name="txtValue" th:value="#{btn.store}" />
                </li>
            </ul>
        </div>


        <div class="button_box">
            <button type="button" class="button btn_blue w120 h30" th:text="${#messages.msg('btn.confirm')}" onclick="javascript:click01()" />
        </div>
    </section>
    <!-- //컨텐츠 영역 -->

<!-- JS 영역 -->
<script layout:fragment="script" th:inline="javascript">
    /* 정렬 */
    $(function (){
        $( "#sortable" ).sortable({
            start: function (event, ui) {
                ui.item.data('start_pos', ui.item.index());
            },
            stop:function (event, ui) {
                var spos = ui.item.data('start_pos');
                var epos = ui.item.index();
                reorder();
            }
        });
        $( "#sortable" ).disableSelection();
    });

    /* index 정렬 */
    function reorder() {
        $("#sortable>li").each(function(i, box) {
            $(box).find("input[type=text]").val(i + 1);
        });
    }

    function click01() {
        var lis = $("#sortable").find("li");

        lis.each(function () {
            // console.log($(this));
            $(this).find("input[name=txtValue]").val($(this).index());
        })

    }
</script>
<!-- //JS 영역 -->
</html>